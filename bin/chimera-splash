#!/usr/bin/env python3
import pyglet
from chimera_app.config import RESOURCE_DIR


class Color:
    TEXT = 252, 252, 252
    BACKGROUND = 0, 0, 0

window = pyglet.window.Window(fullscreen=True)

text_size = int(window.height//48)
label = pyglet.text.Label("Downloading game configuration updates...",
                          font_name='dejavusans',
                          font_size=text_size,
                          x=window.width//2,
                          y=(window.height  - 2 * text_size),
                          anchor_x='center', anchor_y='center')

background_image_path = RESOURCE_DIR + "/images/splash/chimeraos_background.png"
background_image = pyglet.image.load(background_image_path)
background_image.anchor_x = background_image.width // 2
background_image.anchor_y = background_image.height // 2

background = pyglet.sprite.Sprite(background_image,
                                  x=window.width//2,
                                  y=window.height//2)
background.scale=0.4 * background_image.height / window.height


@window.event
def on_draw():
    window.clear()
    background.draw()
    label.draw()

@window.event
def on_key_press(symbol, modifiers):
    pyglet.app.exit()

def main():
    pyglet.app.run(interval=0.1)

if __name__ == "__main__":
    main()
